<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Nurse Management System</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=DM+Sans:opsz,wght@9..40,400;9..40,500;9..40,600;9..40,700&family=Playfair+Display:wght@600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="background-decoration">
    <div class="gradient-orb orb-1"></div>
    <div class="gradient-orb orb-2"></div>
    <div class="gradient-orb orb-3"></div>
  </div>

  <div class="container">
    <header class="header">
      <div class="header-content">
        <div class="logo">
          <div class="logo-icon">
            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z" fill="currentColor"/>
            </svg>
          </div>
          <div class="logo-text">
            <h1>Nurse Management</h1>
            <p>Healthcare Staff Portal</p>
          </div>
        </div>
        <div class="header-actions">
          <button class="btn btn-download" id="downloadBtn">
            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z" fill="currentColor"/>
            </svg>
            Download CSV
          </button>
          <button class="btn btn-primary" id="addNurseBtn">
            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z" fill="currentColor"/>
            </svg>
            Add Nurse
          </button>
        </div>
      </div>
    </header>

    <main class="main-content">
      <div class="stats-bar">
        <div class="stat-item">
          <span class="stat-number" id="totalNurses">0</span>
          <span class="stat-label">Total Nurses</span>
        </div>
        <div class="stat-divider"></div>
        <div class="stat-item">
          <span class="stat-number" id="avgAge">0</span>
          <span class="stat-label">Average Age</span>
        </div>
      </div>

      <div class="table-container">
        <div class="table-header">
          <h2>Registered Nurses</h2>
          <p class="table-subtitle">Click on column headers to sort</p>
        </div>
        
        <div class="table-wrapper">
          <table class="nurses-table" id="nursesTable">
            <thead>
              <tr>
                <th data-sort="name" class="sortable">
                  Name
                  <span class="sort-icon">↕</span>
                </th>
                <th data-sort="license_number" class="sortable">
                  License Number
                  <span class="sort-icon">↕</span>
                </th>
                <th data-sort="dob" class="sortable">
                  Date of Birth
                  <span class="sort-icon">↕</span>
                </th>
                <th data-sort="age" class="sortable">
                  Age
                  <span class="sort-icon">↕</span>
                </th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody id="nursesTableBody">
              <!-- Data will be loaded here -->
            </tbody>
          </table>
        </div>

        <div class="loading-overlay" id="loadingOverlay">
          <div class="spinner"></div>
          <p>Loading nurses...</p>
        </div>

        <div class="empty-state" id="emptyState" style="display: none;">
          <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z" fill="currentColor"/>
          </svg>
          <h3>No Nurses Found</h3>
          <p>Start by adding your first nurse record</p>
          <button class="btn btn-primary" onclick="openModal()">Add First Nurse</button>
        </div>
      </div>
    </main>
  </div>

  <!-- Modal -->
  <div class="modal-overlay" id="modalOverlay">
    <div class="modal" id="nurseModal">
      <div class="modal-header">
        <h2 id="modalTitle">Add New Nurse</h2>
        <button class="modal-close" id="modalClose">
          <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z" fill="currentColor"/>
          </svg>
        </button>
      </div>
      
      <form id="nurseForm">
        <input type="hidden" id="nurseId">
        
        <div class="form-group">
          <label for="nurseName">Full Name</label>
          <input type="text" id="nurseName" name="name" placeholder="Enter nurse's full name" required>
        </div>
        
        <div class="form-group">
          <label for="licenseNumber">License Number</label>
          <input type="text" id="licenseNumber" name="license_number" placeholder="e.g., RN-2024-001" required>
        </div>
        
        <div class="form-row">
          <div class="form-group">
            <label for="nurseDob">Date of Birth</label>
            <input type="date" id="nurseDob" name="dob" required>
          </div>
          
          <div class="form-group">
            <label for="nurseAge">Age</label>
            <input type="number" id="nurseAge" name="age" min="18" max="100" placeholder="Age" required>
          </div>
        </div>
        
        <div class="form-actions">
          <button type="button" class="btn btn-secondary" id="cancelBtn">Cancel</button>
          <button type="submit" class="btn btn-primary" id="submitBtn">
            <span class="btn-text">Add Nurse</span>
            <span class="btn-loading" style="display: none;">
              <div class="btn-spinner"></div>
            </span>
          </button>
        </div>
      </form>
    </div>
  </div>

  <!-- Toast Notification -->
  <div class="toast" id="toast">
    <span class="toast-message" id="toastMessage"></span>
  </div>

  <!-- Delete Confirmation Modal -->
  <div class="modal-overlay" id="deleteModalOverlay">
    <div class="modal delete-modal">
      <div class="delete-icon">
        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z" fill="currentColor"/>
        </svg>
      </div>
      <h3>Delete Nurse Record?</h3>
      <p>This action cannot be undone. Are you sure you want to delete this record?</p>
      <div class="delete-actions">
        <button class="btn btn-secondary" id="cancelDeleteBtn">Cancel</button>
        <button class="btn btn-danger" id="confirmDeleteBtn">Delete</button>
      </div>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>

